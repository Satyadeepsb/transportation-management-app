generator client {
  provider   = "prisma-client-js"
  engineType = "binary"
}

datasource db {
  provider = "postgresql"
}

model User {
  id                String     @id @default(cuid()) @db.VarChar(255)
  createdAt         DateTime   @db.Timestamptz(6)
  email             String     @unique(map: "UK6j5t70rd2eub907qysjvvd76n") @db.VarChar(255)
  firstName         String     @db.VarChar(255)
  isActive          Boolean
  lastName          String     @db.VarChar(255)
  password          String     @db.VarChar(255)
  phone             String?    @db.VarChar(255)
  role              String     @db.VarChar(255)
  updatedAt         DateTime   @updatedAt @db.Timestamptz(6)
  shipmentsCreated  Shipment[] @relation("ShipmentCreator")
  shipmentsAssigned Shipment[] @relation("AssignedDriver")

  @@map("users")
}

model Shipment {
  id                String    @id @default(cuid()) @db.VarChar(255)
  actualRate        Float?
  cargoDescription  String    @db.VarChar(255)
  consigneeAddress  String    @db.VarChar(255)
  consigneeCity     String    @db.VarChar(255)
  consigneeEmail    String?   @db.VarChar(255)
  consigneeName     String    @db.VarChar(255)
  consigneePhone    String    @db.VarChar(255)
  consigneeState    String    @db.VarChar(255)
  consigneeZip      String    @db.VarChar(255)
  createdAt         DateTime  @db.Timestamptz(6)
  createdById       String    @db.VarChar(255)
  currency          String    @db.VarChar(255)
  deliveryDate      DateTime? @db.Date
  dimensions        String?   @db.VarChar(255)
  driverId          String?   @db.VarChar(255)
  estimatedDelivery DateTime  @db.Date
  estimatedRate     Float
  notes             String?   @db.VarChar(2000)
  pickupDate        DateTime  @db.Date
  shipperAddress    String    @db.VarChar(255)
  shipperCity       String    @db.VarChar(255)
  shipperEmail      String?   @db.VarChar(255)
  shipperName       String    @db.VarChar(255)
  shipperPhone      String    @db.VarChar(255)
  shipperState      String    @db.VarChar(255)
  shipperZip        String    @db.VarChar(255)
  status            String    @db.VarChar(255)
  trackingNumber    String    @unique(map: "UK56euky1jo4p7jbdyoda1q6d41") @default(cuid()) @db.VarChar(255)
  updatedAt         DateTime  @updatedAt @db.Timestamptz(6)
  vehicleType       String    @db.VarChar(255)
  weight            Float
  createdBy         User      @relation("ShipmentCreator", fields: [createdById], references: [id], onDelete: NoAction, onUpdate: NoAction, map: "FKnnqkgqc6scnxtnowjuw6wmhrl")
  driver            User?     @relation("AssignedDriver", fields: [driverId], references: [id], onDelete: NoAction, onUpdate: NoAction, map: "FKr0f3t9p25dgrkshev3x2lugl0")

  @@map("shipments")
}

enum UserRole {
  ADMIN
  DISPATCHER
  DRIVER
  CUSTOMER
}

enum ShipmentStatus {
  PENDING
  ASSIGNED
  PICKED_UP
  IN_TRANSIT
  DELIVERED
  CANCELLED
}

enum VehicleType {
  TRUCK
  VAN
  TRAILER
  FLATBED
}
